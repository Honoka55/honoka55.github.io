[{"content":"C++でMariaDBデータベースに接続する簡単な方法の一つを記録しています。また、簡単な改造でMySQLへ接続することも可能です。\n環境： Dev-C++ 5.11、GCC 4.9.2、MariaDB 10.6\n設定手順：\nMariaDBがインストールされているディレクトリの中のincludeフォルダとlibフォルダを、それぞれコンパイルオプションに記載されているインクルードディレクトリとライブラリディレクトリに上書きします。 コンパイルオプションのコネクタコマンドラインに次のコマンドを追加します：-lmariadb。 libフォルダからlibmariadb.dllをソースコードのあるディレクトリにコピーします。 接続とデバッグのソースコード：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 #include \u0026lt;iostream\u0026gt; #include \u0026lt;mysql/mysql.h\u0026gt; using namespace std; MYSQL *link; MYSQL_RES *res; MYSQL_ROW row; int main(){ /* ターミナルのコードページをUTF-8に設定 日本語OSでのDev-C++のデフォルトエンコーディングはShift JISで変更できないため、 これによりUTF-8のデータベースが正しく表示されるようになります。 また、データベース作成時にエンコーディングをShift JISにすることで、 以下の2行を削除することができます。 */ system(\u0026#34;chcp 65001\u0026#34;); system(\u0026#34;cls\u0026#34;); /* 接続の作成 */ link = mysql_init(NULL); if(!mysql_real_connect(link, \u0026#34;localhost\u0026#34;, \u0026#34;root\u0026#34;, \u0026#34;YOUR_PASSWORD\u0026#34;/* パスワード */, \u0026#34;school\u0026#34;/* データベースの名前 */, 0, NULL, 0)) fprintf(stderr, \u0026#34;%s\\n\u0026#34;, mysql_error(link)); /* テーブル一覧の出力 */ if(mysql_query(link, \u0026#34;SHOW TABLES;\u0026#34;)) fprintf(stderr, \u0026#34;%s\\n\u0026#34;, mysql_error(link)); res = mysql_use_result(link); cout\u0026lt;\u0026lt;\u0026#34;MySQL Tables in school database:\u0026#34;\u0026lt;\u0026lt;endl; while((row = mysql_fetch_row(res)) != NULL) cout\u0026lt;\u0026lt;row[0]\u0026lt;\u0026lt;endl; /* SELECT文の実行と出力 */ char sql[] = \u0026#34;SELECT sno, sname FROM student WHERE sno IN (SELECT sno FROM sc GROUP BY sno HAVING COUNT(*) \u0026gt;= 2);\u0026#34;; mysql_query(link, sql); res = mysql_store_result(link); for(int i = 0; i \u0026lt; mysql_num_rows(res); i++){ row = mysql_fetch_row(res); cout\u0026lt;\u0026lt;row[0]\u0026lt;\u0026lt;\u0026#39;\\t\u0026#39;\u0026lt;\u0026lt;row[1]\u0026lt;\u0026lt;endl; } /* メモリの解放と接続の終了 */ mysql_free_result(res); mysql_close(link); return 0; } 実行：\n関数の詳細な説明については、ご自身で公式ドキュメントをご参照ください。\n","date":"2022-12-11T00:00:00Z","image":"https://s1.ax1x.com/2023/01/12/pSuG5DO.png","permalink":"https://honoka55.github.io/ja/p/cpp-mariadb-link/","title":"C++からMariaDBへの接続"},{"content":"江永女書で書かれた元素の周期表を作成しましたので、以下にシェアします。\n女書フォントは私のIongsew Tcyntang、SIL Open Source Font License 1.1のもとで公開されています。欧文フォントはGilbert、CC BY-SA 4.0のもとで公開されているものです。\n","date":"2022-10-19T00:00:00Z","image":"https://s1.ax1x.com/2023/01/12/pSu86pt.jpg","permalink":"https://honoka55.github.io/ja/p/nyushu-zhouqibiao/","title":"江永女書で書かれた周期表の試作"}]